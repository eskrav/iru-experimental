---
title: "Does referent predictability affect rate of pronominalization?"
author: "Ekaterina Kravtchenko"
date: "8.12.2017"
output:
  beamer_presentation:
    incremental: true
    keep_tex: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
rm(list=ls())

library(tidyr)
library(readr)
library(dplyr)
library(stringr)
library(lme4)
library(ggplot2)
library(scales)

data <- read_csv("/Users/ekravtch/Shared/referring-expressions/data/all_data_annotated.csv")

summary(data)

data %>% glimpse()

data$cont_bias <- data$bias %>%
  recode_factor(ic1="Subj. Predictable", ic2="Obj. Predictable", source_goal="Obj. Predictable", goal_source="Subj. Predictable")

data$bias_short <- data$bias %>%
  recode_factor(ic1="Subj.", ic2="Obj.", source_goal="Obj.", goal_source="Subj.")

data$Continuation <- data$contGram %>%
  recode_factor(S = "Subject", O = "Object")

data$workerid <- parse_factor(data$workerid, levels=NULL)
data$list <- parse_factor(data$list, levels=NULL)
data$bias <- parse_factor(data$bias, levels=NULL)
data$cont_bias <- parse_factor(data$cont_bias, levels=NULL)
data$type <- parse_factor(data$type, levels=NULL)
data$itemNum <- parse_factor(data$itemNum, levels=NULL)
data$length <- parse_factor(data$length, c("Short","Long"), include_na=FALSE, ordered=TRUE)
data$sGender <- parse_factor(data$sGender, levels=NULL)
data$Continuation <- parse_factor(data$Continuation, c("Subject","Object"), include_na=FALSE, ordered=TRUE)
data$contGender <- parse_factor(data$contGender, c("F","M"), include_na=FALSE)
data$contGram <- parse_factor(data$contGram, c("S","O"), include_na=FALSE, ordered=TRUE)
data$answerForm <- parse_factor(data$answerForm, c("long","pro"), include_na=FALSE, ordered=TRUE)

data$length <- data$length %>%
  recode_factor(Short = "Name", Long="Definite Desc.")
```

## Redundancy Reduction in Referring Expression Choice

\begin{center}\textbf{Central claim: Humans aim for optimal tradeoff between conciseness and accurate message transmission}
\end{center}

\vspace{1mm}

- Given a more predictable meaning/referent, **shorter >> longer**

- If intended referent predictable in context, use **pronoun instead of name/description**

- The higher the **cost of producing `full' variant**, the more motivation to use shorter variant

- The higher the **effect of context on referent predictability**, the more likely reduction is

<!-- ## Continuations: IC Verbs -->

<!-- ```{r cont1, fig.width=4.5, fig.height=3.25} -->
<!-- filter(data, type=="IC" & !is.na(answerForm)) %>% -->
<!--   ggplot(aes(x = cont_bias, fill = Continuation)) + -->
<!--   geom_bar(position = "fill") + -->
<!--   facet_grid(length ~ .) + -->
<!--   scale_y_continuous(labels = percent_format()) + -->
<!--   labs(x="Continuation Bias", y="Percent Obj. Continuations") + -->
<!--   scale_fill_brewer(palette = "Greens") +  -->
<!--   ggtitle("IC Verbs (continuations)") -->
<!-- ``` -->

<!-- ## Continuations: ToP verbs -->

<!-- ```{r cont2, fig.width=4.5, fig.height=3.25} -->
<!-- filter(data, type=="ToP" & !is.na(answerForm)) %>% -->
<!--   ggplot(aes(x = cont_bias, fill = Continuation)) + -->
<!--   geom_bar(position = "fill") + -->
<!--   facet_grid(length ~ .) + -->
<!--   scale_y_continuous(labels = percent_format()) + -->
<!--   labs(x="Continuation Bias", y="Percent Obj. Continuations") + -->
<!--   scale_fill_brewer(palette = "Greens") +  -->
<!--   ggtitle("ToP Verbs (continuations)") -->
<!-- ``` -->

## IC Verbs (weak effect on predictability)

## IC Verbs (weak effect on predictability)

```{r results1, fig.width=4.5, fig.height=3.25}
filter(data, type=="IC" & !is.na(answerForm)) %>%
  ggplot(aes(x = Continuation, fill = answerForm)) +
  geom_bar(position = "fill") +
  facet_grid(length ~ cont_bias) +
  scale_y_continuous(labels = percent_format()) +
  labs(x="Continuation",fill="RE Form", y="Percent Pronouns") +
  scale_fill_brewer(palette = "Greens") + 
  ggtitle("IC Verbs")
```

## ToP verbs (strong effect on predictability)

## ToP verbs (strong effect on predictability)

```{r results2, fig.width=4.5, fig.height=3.25}
filter(data, type=="ToP" & !is.na(answerForm)) %>%
  ggplot(aes(x = Continuation, fill = answerForm)) +
  geom_bar(position = "fill") +
  facet_grid(length ~ cont_bias) +
  scale_y_continuous(labels = percent_format()) +
  labs(x="Continuation",fill="RE Form", y="Percent Pronouns") +
  scale_fill_brewer(palette = "Greens") + 
  ggtitle("ToP Verbs")
```

<!-- ## Discussion -->

<!-- * Overall, **little evidence that predictability makes unique contribution to RE choice**, at least in English -->

<!-- * Producers are **sensitive to UID-like pressures** on RE choice -->

<!-- * UID may not extend straightforwardly to **phenomena beyond the level of form-based predictability** -->

<!-- * Remaining questions of whether: -->
<!--     - Right **paradigm** -->
<!--     - Enough **context** -->
<!--     - Can **generalize** from manipulation of verb biases -->

<!-- ## Weird Things -->

<!-- * **Definite descriptions erase IC bias** -->
<!--     - Makes RE choice results difficult to interpret, but ToP results help bolster overall conclusion -->
<!--     - Together with weaker IC bias than in lit, unclear what to make of extensive IC literature -->

<!-- * **Inconsistent with other ToP results**; paradigm validity? -->

<!-- * People **do** like to reduce long descriptions, but referent predictability makes no difference -->

<!-- * **Ideas?** -->